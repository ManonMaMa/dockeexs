<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajouter</title>
    <!-- Appel des fichiers css. -->
    <link rel="stylesheet" href="{{url_for('static', filename='css/style.css')}}">
</head>

<body>
    <!-- 
        Cette page propose d’uploader l’image d’un nouveau personnage sur le serveur. 
        L’image devra être sauvegardée dans le dossier static/uploaded_images/
    -->
        
    <!-- Utilisation de la fonction url_for() pour créer des références URL absolues vers les fichiers statiques. -->
    <a class="retouraccueil" href="/">
        <img class="imageretour" 
            src="{{url_for('static', filename='img/OIP.webp')}}" 
            alt="bouton retour à l'accueil">
    </a>

    <div class="titre">Nouveau Pokemon</div>

    <form action="new_personnage" method="post" enctype="multipart/form-data">
        <input type="file" name="file" id="fileInput" accept="image/*">
        <img id="preview" src="#" alt="Aperçu de l'image" />
        <input class="bouton" type="submit" value="Ajouter">
    </form>

    <script>
    const fileInput = document.getElementById('fileInput');
    const preview = document.getElementById('preview');

    fileInput.addEventListener('change', function () {
      const file = this.files[0];

      if (file) {
        const reader = new FileReader();

        reader.addEventListener('load', function () {
          preview.setAttribute('src', this.result);
          preview.style.display = 'block';
        });

        reader.readAsDataURL(file);
      } else {
        preview.setAttribute('src', '#');
        preview.style.display = 'none';
      }
    });
  </script>


    <!-- <form action="new_personnage" method="post" enctype="multipart/form-data">
        <input type="file" name="file" accept="image/*" required>
        <button type="submit">Upload</button>
    </form> -->

</body>
</html>

